<form [formGroup]="aiForm" (ngSubmit)="onSubmit()" class="row m-0">
  <div class=" col-xl-6">
    <h2>
      <img src="assets/logoRGDevt.svg" class="gest-print" alt="Logo RGDevt" width="91"
        height="56" />
      {{'perfEval'|localise:'RGD'}}</h2>
      <p class="gest-print">{{'labelRefEtude'|localise:'RGD'}} {{refreport}}</p>
  </div>
  <fieldset class="col-xl-6 px-1 ungest-print">
    <div class="form-row">
      <div class="row m-0 w-100">
        <label class="col-4 text-right col-form-label" for="refreport">{{'labelRefEtude'|localise:'RGD'}}</label>
        <div class="input-group col-8">
          <input formControlName="refreport" class="form-control font-weight-bold text-right"
            placeholder="{{'placeholderRefEtude'|localise:'RGD'}}" type="text" aria-describedby="refreport-button"
            aria-label="refreport" />
          <div class="input-group-append">
            <button role="submit" class="btn btn-outline-secondary" id="refreport-button" (click)="mePrint()">
              {{'btnPrint'|localise:'RGD'}}
            </button>
          </div>
        </div>
      </div>
    </div>
  </fieldset>
  <fieldset class="col-lg-7 px-1 desc-corr">
    <div class="form-row">
      <p class="text-muted w-100 text-center m-1">{{'rappliedload'|localise:'RGD'}} 
        <a href="#mathformula"><i class="fas fa-question-circle"></i></a>
      </p>
      <div class="row m-0 w-100">
        <label class="col-2 text-right col-form-label" for="measuredIntensity">I <sub>app</sub></label>
        <div class="input-group col-4">
          <input formControlName="measuredIntensity" class="form-control font-weight-bold text-right"
            placeholder="measured intensity" type="text" aria-describedby="iapp-desc" aria-label="measuredIntensity" />
          <div class="input-group-append">
            <span class="input-group-text" id="iapp-desc">mA</span>
          </div>
        </div>
        <label class="col-2 text-right col-form-label" for="measuredSurface">{{'rsurf'|localise:'RGD'}}</label>
        <div class="input-group col-4">
          <input formControlName="measuredSurface" class="form-control font-weight-bold text-right"
            placeholder="measured surface" type="text" aria-describedby="surface-desc" aria-label="measuredSurface" />
          <div class="input-group-append">
            <span class="input-group-text" id="surface-desc">m²</span>
          </div>
        </div>
      </div>
    </div>
    <div class="form-row">
      <p class="text-muted w-100 text-center m-1">{{'rpotential'|localise:'RGD'}}</p>
      <div class="row m-0 w-100">
        <label class="col-2 text-right col-form-label" for="xon">X <sub>on</sub></label>
        <div class="input-group col-4" (mouseenter)="popbox('deltav')" (mouseleave)="popbox('')">
          <input formControlName="xon" class="form-control font-weight-bold text-right" placeholder="xon" type="text"
            aria-describedby="xon-desc" aria-label="xon" />
          <div class="input-group-append" id="xon-desc">
            <span class="input-group-text">mV</span>
          </div>
        </div>
        <label class="col-2 text-right col-form-label" for="xoff">X <sub>off</sub></label>
        <div class="input-group col-4" (mouseenter)="popbox('deltav')" (mouseleave)="popbox('')">
          <input formControlName="xoff" class="form-control font-weight-bold text-right" placeholder="xoff" type="text"
            aria-describedby="xoff-desc" aria-label="xoff" />
          <div class="input-group-append" id="xoff-desc">
            <span class="input-group-text">mV</span>
          </div>
        </div>
      </div>
    </div>
  </fieldset>
  <fieldset class="col-lg-5 px-1 fig-corr">
    <div class="form-row mt-4">
      <p class="text-muted w-100 text-center m-1">{{'rVCorr'|localise:'RGD'}}</p>
      <div class="row m-0 w-100">
        <label class="col-3 text-right col-form-label" for="icorr">i <sub>corr</sub></label>
        <div class="input-group input-group-lg col-9">
          <input [value]="userIcorr.effect" class="form-control text-center" placeholder="effect" type="text"
            aria-describedby="icorr-desc" aria-label="icorr" readonly [style.background-color]="userIcorr.bgcolor"
            [style.border-color]="userIcorr.bordercolor" />
          <input [value]="userIcorr.p3" class="form-control font-weight-bold text-right" placeholder="icorr" type="text"
            aria-describedby="icorr-desc" aria-label="icorr" readonly [style.background-color]="userIcorr.bgcolor"
            [style.border-color]="userIcorr.bordercolor" />
          <div class="input-group-append" id="icorr-desc">
            <span class="input-group-text" [style.background-color]="userIcorr.bgcolor"
              [style.border-color]="userIcorr.bordercolor">mA/m²</span>
          </div>
        </div>
      </div>
    </div>
  </fieldset>
  <app-theecanvas [title]="'chartTitle'|localise:'RGD'" [usercurve]="corrosionview" class="col-12"></app-theecanvas>

  <div class="col-12 px-4 debug-aiform" *ngIf="showingdebug">
    <h3>Debug</h3>
    <p class="form-text">
      status : {{ aiForm.status }}
      <br />
      dirty : {{ aiForm.dirty }}
    </p>
    <div class="form-text text-muted">
      <pre>{{ aiForm.value | json }}</pre>
    </div>
  </div>
</form>
<div class="col-12 p-0" id="mathformula">
  <p class="text-muted w-100 text-center m-1">{{'depolFormula'|localise:'RGD'}}</p>
  <app-formula-math #mathformula></app-formula-math>
</div>
<div class="col-12 illust-info">
  <div class="row">
    <div class="col-lg-6 fig-corr">
      <img src="assets/fig_icorr_measure.jpg" alt="Depolarisation measurement illustration (RGDevt)"
        class="d-block m-auto" />
    </div>
    <div class="col-lg-6 desc-corr">
      <h2 class="ungest-print">{{'illustDepolTitle'|localise:'RGD'}}</h2>
      <h4>{{'illustDepolPurpose'|localise:'RGD'}}</h4>
      <p>{{'illustDepolDesc'|localise:'RGD'}}</p>
      <ul>
        <li>I<sub>app</sub>&nbsp;: {{'riappdesc'|localise:'RGD'}}s</li>
        <li>&Delta;E X<sub>on</sub> - X<sub>off</sub>&nbsp;: {{'rxonoffdesc'|localise:'RGD'}}</li>
        <li>{{'rcstdesc'|localise:'RGD'}}
          <ul>
            <li>&beta;<sub>a</sub>&nbsp;:60 mV</li>
            <li>&beta;<sub>c</sub>&nbsp;:120 mV</li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>
